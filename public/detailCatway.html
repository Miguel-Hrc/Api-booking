<html>

<head>
  <title>Detail of catways</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
    <ul id="myList"></ul>
    <a href="listCatway.html"><p>back</p></a>
</body>
<script>
    fetch(`http://localhost:3000/catways/`)
    .then(function(response){
        return response.json()
    })
    .then((data) => {
        catways = data;
        showDetail();
    })
    .catch((err) => {
        console.log(`Error fetching: ${err}`)
    })

    function showDetail(){
        const ul = document.getElementById('myList');
        ul.innerHTML = '';
        const list = document.createDocumentFragment();
        let catwaysId =  new URLSearchParams(window.location.search).get('id');
        let thisProduct = catways.find(value => String(value._id) === catwaysId);
        let li = document.createElement('li');
        li.innerHTML = `
            <p><strong>Catway number : </strong> ${thisProduct.catwayNumber}</p>
            <p><strong>Type of catway : </strong> ${thisProduct.type}</p>
            <p><strong>Catway state : </strong> ${thisProduct.catwayState}</p>
        `;
        ul.appendChild(li);
    }
</script>
</html>
